local lib = LibStub:GetLibrary("LibItemStatsPlus")
lib.CombatRatingsFromIndexToName = {
	[1] = "ITEM_MOD_DODGE_RATING_SHORT",
	[2] = "ITEM_MOD_PARRY_RATING_SHORT",
	[3] = "ITEM_MOD_BLOCK_RATING_SHORT", --?
	[4] = "ITEM_MOD_HIT_RATING_SHORT",
	[5] = "ITEM_MOD_CRIT_RATING_SHORT",
	[6] = "ITEM_MOD_RESILIENCE_RATING_SHORT",
	[7] = "ITEM_MOD_HASTE_RATING_SHORT",
	[8] = "ITEM_MOD_EXPERTISE_RATING_SHORT",
	[9] = "ITEM_MOD_MASTERY_RATING_SHORT",
	[10] = "ITEM_MOD_PVP_POWER_SHORT",
}
lib.CombatRatingsFromNameToIndex = {
	["ITEM_MOD_DODGE_RATING_SHORT"] = 1,
	["ITEM_MOD_PARRY_RATING_SHORT"] = 2,
	["ITEM_MOD_BLOCK_RATING_SHORT"] = 3, --?
	["ITEM_MOD_HIT_RATING_SHORT"] = 4,
	["ITEM_MOD_CRIT_RATING_SHORT"] = 5,
	["ITEM_MOD_RESILIENCE_RATING_SHORT"] = 6,
	["ITEM_MOD_HASTE_RATING_SHORT"] = 7,
	["ITEM_MOD_EXPERTISE_RATING_SHORT"] = 8,
	["ITEM_MOD_MASTERY_RATING_SHORT"] = 9,
	["ITEM_MOD_PVP_POWER_SHORT"] = 10,
}

lib.CombatRatingsFromRatingIDToIndex = {
	["CR_WEAPON_SKILL"] = 0,
	["CR_DEFENSE_SKILL"] = 0,
	["CR_DODGE"] = 1,
	["CR_PARRY"] = 2,
	["CR_BLOCK"] = 3,
	["CR_HIT_MELEE"] = 4,
	["CR_HIT_RANGED"] = 4,
	["CR_HIT_SPELL"] = 4,
	["CR_CRIT_MELEE"] = 5,
	["CR_CRIT_RANGED"] = 5,
	["CR_CRIT_SPELL"] = 5,
	["CR_HIT_TAKEN_MELEE"] = 0,
	["CR_HIT_TAKEN_RANGED"] = 0,
	["CR_HIT_TAKEN_SPELL"] = 0,
	["COMBAT_RATING_RESILIENCE_CRIT_TAKEN"] = 0,
	["COMBAT_RATING_RESILIENCE_PLAYER_DAMAGE_TAKEN"] = 6,
	["CR_CRIT_TAKEN_SPELL"] = 0,
	["CR_HASTE_MELEE"] = 7,
	["CR_HASTE_RANGED"] = 7,
	["CR_HASTE_SPELL"] = 7,
	["CR_WEAPON_SKILL_MAINHAND"] = 0,
	["CR_WEAPON_SKILL_OFFHAND"] = 0,
	["CR_WEAPON_SKILL_RANGED"] = 0,
	["CR_EXPERTISE"] = 8,
	["CR_ARMOR_PENETRATION"] = 0,
	["CR_MASTERY"] = 9,
	["CR_PVP_POWER"] = 10,
}

--[[lib.CombatRating10 = {
	0.796153128,
	0.796153128,
	0.265384376,
	0.307691991,
	0.538461983,
	0.30631423,
	0.384615004,
	0.307691991,
	0.538461983,
	0.30631423,
}

lib.CombatRating60 = {
	[1] = {0.3981, 0.7962},
	[2] = {0.3981, 0.7962},
	[3] = {0.1327, 0.2654},
	[4] = {0.1538, 0.3077},
	[5] = {0.2692, 0.5385},
	[6] = {0.1532, 0.3063},
	[7] = {0.1923, 0.3846},
	[8] = {0.1538, 0.3077},
	[9] = {0.2692, 0.5385},
	[10] = {0.1532, 0.3063},
}]]
--DODGE PARRY BLOCK HIT CRIT RESILIENCE HASTE EXPERTISE MASTERY PVP_POWER
--gtCombatRatings.dbc
lib.CombatRatings = {
	[1] = {0.796153188,0.796153188,0.265384346,0.307691991,0.538461983,0.357366562,0.384615004,0.307691991,0.538461983,0.462361068},
	[2] = {0.796153069,0.796153069,0.265384316,0.307691991,0.538461983,0.357366532,0.384615004,0.307691991,0.538461983,0.462361008},
	[3] = {0.796153069,0.796153069,0.265384316,0.307691991,0.538461983,0.357366621,0.384615004,0.307691991,0.538461983,0.462361127},
	[4] = {0.796153069,0.796153069,0.265384346,0.307691991,0.538461983,0.357366592,0.384615004,0.307691991,0.538461983,0.462361068},
	[5] = {0.796152949,0.796152949,0.265384316,0.307691991,0.538461983,0.357366562,0.384615004,0.307691991,0.538461983,0.462361038},
	[6] = {0.796153128,0.796153128,0.265384346,0.307691991,0.538461983,0.357366621,0.384615004,0.307691991,0.538461983,0.462361127},
	[7] = {0.796153069,0.796153069,0.265384376,0.307691991,0.538461983,0.357366592,0.384615004,0.307691991,0.538461983,0.462361097},
	[8] = {0.796153009,0.796153009,0.265384346,0.307691991,0.538461983,0.357366562,0.384615004,0.307691991,0.538461983,0.462361038},
	[9] = {0.796153009,0.796153009,0.265384376,0.307691991,0.538461983,0.357366532,0.384615004,0.307691991,0.538461983,0.462361008},
	[10] = {0.796153128,0.796153128,0.265384376,0.307691991,0.538461983,0.357366592,0.384615004,0.307691991,0.538461983,0.462361097},
	[11] = {1.194230556,1.194230556,0.398076862,0.461537987,0.807691991,0.53605032,0.576923013,0.461537987,0.807691991,0.693542182},
	[12] = {1.592308164,1.592308164,0.530769408,0.615384996,1.076923013,0.714734077,0.769231021,0.615384996,1.076923013,0.924723327},
	[13] = {1.990383744,1.990383744,0.663461208,0.769231021,1.346153975,0.893416822,0.961538017,0.769231021,1.346153975,1.15590322},
	[14] = {2.388461113,2.388461113,0.796153724,0.923076987,1.615385056,1.072100759,1.153846025,0.923076987,1.615385056,1.387084484},
	[15] = {2.786539078,2.786539078,0.928846478,1.076923013,1.884614944,1.250784636,1.346153975,1.076923013,1.884614944,1.618265748},
	[16] = {3.184616804,3.184616804,1.061538696,1.230769038,2.153846025,1.429468393,1.538462043,1.230769038,2.153846025,1.849447012},
	[17] = {3.582691908,3.582691908,1.194230676,1.384614944,2.423077106,1.608151317,1.730769038,1.384614944,2.423077106,2.080626965},
	[18] = {3.980769873,3.980769873,1.326923013,1.538462043,2.692307949,1.786834836,1.923076987,1.538462043,2.692307949,2.311807871},
	[19] = {4.378847599,4.378847599,1.459615827,1.692307949,2.961538076,1.965518832,2.115385056,1.692307949,2.961538076,2.542989254},
	[20] = {4.776922703,4.776922703,1.592307568,1.846153975,3.230768919,2.144201279,2.307692051,1.846153975,3.230768919,2.774168968},
	[21] = {5.175000191,5.175000191,1.724999905,2,3.5,2.322885275,2.5,2,3.5,3.005350113},
	[22] = {5.573077679,5.573077679,1.857692242,2.153846025,3.769231081,2.501568794,2.692307949,2.153846025,3.769231081,3.236531019},
	[23] = {5.971153259,5.971153259,1.99038446,2.307692051,4.038462162,2.680251837,2.884614944,2.307692051,4.038462162,3.467711449},
	[24] = {6.369230747,6.369230747,2.123076916,2.46153903,4.307692051,2.858935356,3.076922894,2.46153903,4.307692051,3.698892117},
	[25] = {6.767308712,6.767308712,2.255769253,2.615385056,4.576922894,3.037619352,3.269231081,2.615385056,4.576922894,3.9300735},
	[26] = {7.165383339,7.165383339,2.388461113,2.769231081,4.846154213,3.21630168,3.461538076,2.769231081,4.846154213,4.161252975},
	[27] = {7.563461781,7.563461781,2.521154165,2.923077106,5.115385056,3.394985676,3.653846025,2.923077106,5.115385056,4.39243412},
	[28] = {7.961538792,7.961538792,2.653846025,3.076922894,5.384614944,3.573669672,3.846153975,3.076922894,5.384614944,4.623615742},
	[29] = {8.359617233,8.359617233,2.786538839,3.230768919,5.653845787,3.75235343,4.038462162,3.230768919,5.653845787,4.854796886},
	[30] = {8.757692337,8.757692337,2.919230461,3.384614944,5.923077106,3.931035995,4.230769157,3.384614944,5.923077106,5.085976601},
	[31] = {9.155768394,9.155768394,3.051922798,3.538461924,6.192306995,4.109719753,4.423077106,3.538461924,6.192306995,5.317157269},
	[32] = {9.553846359,9.553846359,3.184615374,3.692307949,6.461537838,4.288403511,4.615385056,3.692307949,6.461537838,5.54833889},
	[33] = {9.951925278,9.951925278,3.317308426,3.846153975,6.730769157,4.467087746,4.807693005,3.846153975,6.730769157,5.779520512},
	[34] = {10.35000134,10.35000134,3.450000048,4,7,4.645770073,5,4,7,6.010699749},
	[35] = {10.74807739,10.74807739,3.582691908,4.153845787,7.269230843,4.824453354,5.192307949,4.153845787,7.269230843,6.241880417},
	[36] = {11.14615345,11.14615345,3.715384007,4.307692051,7.538462162,5.003137112,5.384614944,4.307692051,7.538462162,6.473061562},
	[37] = {11.54423141,11.54423141,3.848077059,4.461537838,7.807693005,5.181820393,5.576922894,4.461537838,7.807693005,6.704242229},
	[38] = {11.94230747,11.94230747,3.980768919,4.615385056,8.07692337,5.360503674,5.769230843,4.615385056,8.07692337,6.935422897},
	[39] = {12.34038353,12.34038353,4.113461018,4.769230843,8.346154213,5.539187908,5.961537838,4.769230843,8.346154213,7.166604042},
	[40] = {12.73846245,12.73846245,4.246153831,4.923077106,8.615384102,5.717871189,6.153845787,4.923077106,8.615384102,7.39778471},
	[41] = {13.13653755,13.13653755,4.378846169,5.076922894,8.884614944,5.89655447,6.346154213,5.076922894,8.884614944,7.628964901},
	[42] = {13.53461647,13.53461647,4.511538982,5.230769157,9.153845787,6.075237274,6.538462162,5.230769157,9.153845787,7.860145569},
	[43] = {13.93269253,13.93269253,4.644230843,5.384614944,9.42307663,6.253921509,6.730769157,5.384614944,9.42307663,8.091326714},
	[44] = {14.33076859,14.33076859,4.77692318,5.538462162,9.692307472,6.43260479,6.923077106,5.538462162,9.692307472,8.322507858},
	[45] = {14.72884655,14.72884655,4.909615994,5.692306995,9.961538315,6.611288548,7.115385056,5.692306995,9.961538315,8.553689003},
	[46] = {15.12692547,15.12692547,5.042307854,5.846154213,10.23077011,6.789971828,7.307693005,5.846154213,10.23077011,8.784869194},
	[47] = {15.52499962,15.52499962,5.175000191,6,10.5,6.968655586,7.5,6,10.5,9.016050339},
	[48] = {15.92307758,15.92307758,5.307693005,6.153845787,10.7692318,7.147338867,7.692306995,6.153845787,10.7692318,9.247231483},
	[49] = {16.32115555,16.32115555,5.440383911,6.307693005,11.03846169,7.326023102,7.884614944,6.307693005,11.03846169,9.478412628},
	[50] = {16.71923065,16.71923065,5.573077202,6.461537838,11.30769253,7.50470686,8.07692337,6.461537838,11.30769253,9.709593773},
	[51] = {17.11730957,17.11730957,5.705769062,6.615385056,11.57692337,7.683389664,8.269230843,6.615385056,11.57692337,9.94077301},
	[52] = {17.51538658,17.51538658,5.838461876,6.769230843,11.84615517,7.862073421,8.461538315,6.769230843,11.84615517,10.17195511},
	[53] = {17.91346169,17.91346169,5.971154213,6.923077106,12.11538506,8.040756226,8.653845787,6.923077106,12.11538506,10.40313435},
	[54] = {18.3115387,18.3115387,6.103846073,7.076922894,12.38461685,8.219439507,8.846154213,7.076922894,12.38461685,10.63431454},
	[55] = {18.70961761,18.70961761,6.236537933,7.230769157,12.65384674,8.398122787,9.038461685,7.230769157,12.65384674,10.86549664},
	[56] = {19.10769272,19.10769272,6.369231224,7.384614944,12.92307854,8.576807022,9.230769157,7.384614944,12.92307854,11.09667778},
	[57] = {19.50576973,19.50576973,6.501923084,7.538462162,13.19230843,8.755489349,9.42307663,7.538462162,13.19230843,11.32785702},
	[58] = {19.90384865,19.90384865,6.634614944,7.692306995,13.46153927,8.934174538,9.615385056,7.692306995,13.46153927,11.55903912},
	[59] = {20.30192375,20.30192375,6.767308235,7.846154213,13.73077011,9.112856865,9.807692528,7.846154213,13.73077011,11.79021931},
	[60] = {20.70000076,20.70000076,6.900001049,8,14,9.291540146,10,8,14,12.02139854},
	[61] = {21.48607636,21.48607636,7.162024975,8.303797722,14.53164673,9.644384384,10.37974739,8.303797722,14.53164673,12.47790909},
	[62] = {22.33421326,22.33421326,7.444736958,8.631579399,15.10526466,10.02508354,10.78947353,8.631579399,15.10526466,12.97045898},
	[63] = {23.25205612,23.25205612,7.750685215,8.986301422,15.7260294,10.43707275,11.23287678,8.986301422,15.7260294,13.50349045},
	[64] = {24.2485714,24.2485714,8.082857132,9.371427536,16.39999962,10.88437653,11.7142868,9.371427536,16.39999962,14.08221245},
	[65] = {25.33432961,25.33432961,8.444775581,9.791045189,17.13432884,11.37173653,12.23880672,9.791045189,17.13432884,14.71275902},
	[66] = {26.52187729,26.52187729,8.840625763,10.25,17.9375,11.90478706,12.8125,10.25,17.9375,15.40242004},
	[67] = {27.826231,27.826231,9.275409698,10.75409889,18.81967354,12.49026775,13.44262409,10.75409889,18.81967354,16.15991592},
	[68] = {29.26551819,29.26551819,9.755171776,11.31034565,19.79310417,13.1363163,14.13793087,11.31034565,19.79310417,16.99577332},
	[69] = {30.86182022,30.86182022,10.28727341,11.92727375,20.87272835,13.85284328,14.909091,11.92727375,20.87272835,17.92281532},
	[70] = {32.64230728,32.64230728,10.88076973,12.61538506,22.07692337,14.6520462,15.76923275,12.61538506,22.07692337,18.95682526},
	[71] = {35.12157059,35.12157059,11.70719147,13.57355499,23.75372124,15.76490402,16.96694183,13.57355499,23.75372124,20.39664078},
	[72] = {37.78913879,37.78913879,12.59638023,14.60449982,25.55787468,16.962286,18.25562477,14.60449982,25.55787468,21.94581604},
	[73] = {40.65932083,40.65932083,13.55310726,15.71374798,27.49905586,18.25061226,19.6421833,15.71374798,27.49905586,23.61265373},
	[74] = {43.74749374,43.74749374,14.5824976,16.90724373,29.587677,19.63679314,21.13405418,16.90724373,29.587677,25.4060936},
	[75] = {47.07022095,47.07022095,15.69007397,18.19139099,31.83493423,21.12825394,22.73923683,18.19139099,31.83493423,27.33574486},
	[76] = {50.64532089,50.64532089,16.881773,19.57307053,34.25287247,22.73299599,24.46633911,19.57307053,34.25287247,29.41196251},
	[77] = {54.49195862,54.49195862,18.16398621,21.05969429,36.85446548,24.45962334,26.32461739,21.05969429,36.85446548,31.64587402},
	[78] = {58.63075638,58.63075638,19.54358482,22.65922737,39.65364838,26.31739044,28.32403564,22.65922737,39.65364838,34.04945374},
	[79] = {63.08390427,63.08390427,21.02796745,24.38025284,42.66543961,28.31626129,30.47531509,24.38025284,42.66543961,36.63559341},
	[80] = {67.87528229,67.87528229,22.62509346,26.23199272,45.90598679,30.46695137,32.78998947,26.23199272,45.90598679,39.41815948},
	[81] = {89.12595367,89.12595367,29.70865059,34.44481277,60.27842331,38.02930832,43.05601501,34.44481277,60.27842331,49.20233917},
	[82] = {117.0372772,117.0372772,39.01242828,45.23180008,79.15564728,47.46875763,56.53974915,45.23180008,79.15564728,61.41510391},
	[83] = {153.7501984,153.7501984,51.25006485,59.42036819,103.9856415,59.25121689,74.27545166,59.42036819,103.9856415,76.65925598},
	[84] = {201.8813782,201.8813782,67.29379272,78.02178955,136.5381317,73.95826721,97.52723694,78.02178955,136.5381317,95.6872406},
	[85] = {265.0783386,265.0783386,88.35944366,102.4457397,179.2800446,92.31581879,128.0571594,102.4457397,179.2800446,119.4382629},
	[86] = {335,335,112,130,228,115,162,130,228,150},
	[87] = {430,430,143,166,290,150,208,166,290,195},
	[88] = {545,545,182,211,370,190,264,211,370,245},
	[89] = {700,700,233,269,470,245,336,269,470,315},
	[90] = {885,885,295,340,600,310,425,340,600,400},
}
--DODGE PARRY BLOCK HIT CRIT RESILIENCE HASTE EXPERTISE MASTERY PVP_POWER